\begin{minipage}[t]{\sw}
\slidenumber
\LARGE
{\bf Language V5} (continued)\exx
\large
This picture illustrates the three steps
carried out in \verb'addLetrecBindings',
for the following \verb'letrec' example:
\begin{qv}
letrec
    x = 5 
    f = proc(t) *(t,x)
in
    .f(42)
\end{qv}
\begin{enumerate}
\item [0.] Create an extended environment
      by extending the enclosing environment
      with an empty list of bindings;
\item In the order in which the LHS identifiers appear,
      create a \verb'Binding' of the LHS identifier
      (\verb'x' and then \verb'f' in this example)
      to the value of its corresponding RHS expression
      (5 and then \verb'proc(t)...' in this example) --
      where each RHS expression is evaluated
      in the extended environment --
      and add this binding to the extended environment;
\item Once all of the (LHS, RHS) bindings have been added
      to the extended environment,
      return the extended environment
      as the value of \verb'addLetrecBindings'.
\end{enumerate}
Observe that the environment captured by procedure \verb'f'
knows about the binding of \verb'x' to \verb'5',
so the \verb'letrec' expression evaluates to 210.
If this had been a \verb'let' instead of a \verb'letrec',
the \verb'x' in the body of \verb'f' would be unbound.
{\center\ \psfig{figure=letrec-steps.eps,width=.6\textwidth}\ \\}

\end{minipage}
\clearpage
