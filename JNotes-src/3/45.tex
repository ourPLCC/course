\begin{minipage}[t]{\sw}
\slidenumber
\LARGE
{\bf Language V3} (continued)\exx
In the third example, two new environments are created.
The first binds \verb'x' to 3 (shadowing the initial binding).
The inner environment binds \verb'x'
to the value of \verb'add1(x)'
and \verb'y' to the value of \verb'add1(x)'.
In both of these,
the RHS expressions \verb'add1(x)' in the inner \verb'let'
are evaluated {\em using the outer [enclosing] environment}
which has \verb'x' bound to 3.
Thus \verb'add1(x)' evaluates to 4, {\em in both cases}.
Thus, in the inner environment,
\verb'x' is bound to 4 and \verb'y' is bound to 4,
so that the \verb'+(x,y)' expression evaluates to 8.
\begin{qv}
let x = 3
in
  let
    x = add1(x)
    y = add1(x)
  in
    +(x,y)
  % => 8
\end{qv}
\large
\end{minipage}
