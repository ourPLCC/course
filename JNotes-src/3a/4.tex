\begin{minipage}[t]{\sw}
\slidenumber
\LARGE
{\bf Language SET} (continued)\exx
The ability to modify the value bound to a variable allows us
to ``capture'' an environment in a procedure
and use the procedure to modify its captured environment.
For example, consider:
\begin{qv}
define g = let
             count = 0
           in
             proc() set count = add1(count)
.g() % => 1
.g() % => 2
.g() % => 3
\end{qv}
The value of \verb'count' is captured in the environment
that defines the \verb'proc()'.
Each time we evaluate \verb'.g()',
the procedure increments the value of \verb'count'
and returns this newly incremented value.
The variable \verb'count' persists
from one invocation to the other
because the \verb'proc' captures the environment
in which it is defined,
namely the one with the variable \verb'count'.\exx
In this example,
the \verb'count' variable is unbound in the top-level environment,
so an attempt to evaluate it will throw an exception:
\begin{qv}
count % unbound variable
\end{qv}
\end{minipage}
